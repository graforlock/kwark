function select(e){return this instanceof select?void(e&&(e.indexOf(".")!==-1?this.node=document.getElementsByClassName(e.split(".").join("")):e.indexOf("#")!==-1?this.node=document.getElementById(e.split("#").join("")):this.node=document.getElementsByTagName(e))):new select(e)}function effects(e){return this instanceof effects?void select.call(this,e):new effects(e)}function ajax(e){function t(e){s=e,r=e.readyState,i=e.status,o&&n(o)}function n(e){if(r<4)return void(o=e);200===i&&e.resolved(c.responseText),String(i).match(/^([4-5][0-5][0-9])$/g)&&e.rejected({statusText:c.statusText,statusCode:i})}if(!(this instanceof ajax))return new ajax(e);var o,i,s,r=0;this.then=function(e,t){n({resolved:e,rejected:t})};var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.onreadystatechange=function(){t(c)},c.open("GET",e,!0),c.send()}function component(e,t){select.call(this,e),this._controller=t,this.controller=function(e){var t;this._controller.bind(this),t=this._controller(e),t&&this.render(t)}}kwark=kwark||{},kwark.compose=function(){var e=[].slice.call(arguments).reverse();return function(t){return e.reduce(function(e,t){return t(e)},t)}},kwark.pSiblings=function(e){for(var t=[],n=e;n=n.previousElementSibling;)t.push(n);return t},kwark.nSiblings=function(e){for(var t=[],n=e;n=n.nextElementSibling;)t.push(n);return t};var kwark=kwark||{};kwark.events=["mousedown","mouseover","mouseup","click","resize","scroll","keypress","keyup","keydown"],select.one=function(e){return _s=new select,_s.node=document.querySelector(e),_s},select.inline=function(e){return _i=new select,_i.inlined=e,_i},select.prototype.find=function(e,t){var n=t?this.node.querySelectorAll(e):this.node.querySelector(e);return n?this.node=n:console.log("select: "+e+" is empty."),this},select.prototype.addClass=function(e){return this.node.className.indexOf(e)===-1&&(this.node.className+=(this.node.className?" ":"")+e),this},select.prototype.hasClass=function(e){return!!new RegExp(e,"g").exec(this.node.className)&&this},select.prototype.removeClass=function(e){return this.hasClass(e)&&(this.node.className=this.node.className.replace(e,"")),this},select.prototype.nodeify=function(e){var t=/^<([\w =\-'"\[\]0-9]+)>([<>\w\D ]+)<\/[a-z]+>$/g,n=t.exec(this.inlined),o=n[2],i=n[1].split(" "),s=i[0];this.node=document.createElement(s);var r=this;return i.length>1&&i.slice(1).map(function(e){var t={},n=e.split("=");return t[n[0]]=n[1],t}).forEach(function(e){var t=Object.keys(e),n=t[0];e[n]&&(value=e[n].indexOf('"')!==-1?e[n].replace(/"/g,""):e[n]),r.node[n]=value?value:""}),this.html(o),this},select.prototype.siblings=function(){var e=kwark.pSiblings(this.node)||[],t=kwark.nSiblings(this.node)||[];return this.node=e.concat(t),this},select.prototype.eq=function(e){return this.node[e]},select.prototype.first=function(){return this.node[0]},select.prototype.last=function(){return this.node[this.node.length-1]},select.prototype.children=function(e){return e?(this.node=[].slice.call(this.node.children).filter(e),this):this.node=this.node.children},select.prototype.append=function(e){return e=e||document.body,e.appendChild(this.node),this},select.prototype.prepend=function(e){var e=e||document.body;return e.children?e.insertBefore(this.node,e.children[0]):e.appendChild(this.node),this},select.prototype.isntNull=function(){return null!==this.node},select.prototype.event=function(e,t){t=t.bind(this);var n=this.node;this.isntNull()&&0!==n.length&&this.each(function(n){n.addEventListener(e,t)})},select.prototype.event_decorator=function(e){return function(t){t=t.bind(this);var n=this.node;this.isntNull()&&0!==n.length&&this.each(function(n){n.addEventListener(e,t)})}};for(var i=0;i<kwark.events.length;i++)select.prototype[kwark.events[i]]=select.prototype.event_decorator(kwark.events[i]);select.prototype.foreach=function(e,t){for(var n=0;n<e.length&&!t(e[n],n++););},select.prototype.type=function(e){return e?{}.toString.call(e):{}.toString.call(this.node)},select.prototype.each=function(e){({}).toString;return"[object HTMLCollection]"===this.type()||"[object NodeList]"===this.type()||"[object Array]"===this.type()?(this.foreach(this.node,e),this):(e(this.node),this)},select.prototype.html=function(e){return e?(this.each(function(t){t.innerHTML=e}),this):this.node.innerHTML},select.prototype.interval=function(e,t,n){e=e.bind(this);var o=n?setInterval:setTimeout;o(e,t)},kwark.select=function(e){return select.bind(e)}(kwark),kwark=kwark||{},effects.prototype=Object.create(select.prototype),effects.prototype.name=select,effects.prototype.frame_decorator=function(){},effects.prototype.fadeIn=function(e){e=e||1,opacity=parseFloat(this.node.style.opacity)||0;var t=this;!function n(){return opacity>=e?void(t.node.style.opacity=e):(opacity+=.01,t.node.style.opacity=opacity,window.requestAnimationFrame(n),void 0)}()},effects.prototype.fadeOut=function(e){e=e||0,opacity=parseFloat(this.node.style.opacity)||1;var t=this;!function n(){return opacity<=e?void(t.node.style.opacity=e):(opacity-=.01,t.node.style.opacity=opacity,window.requestAnimationFrame(n),void 0)}()},effects.prototype.move=function(e,t){},kwark.effects=effects,kwark=kwark||{},kwark.ajax=ajax,kwark=kwark||{},component.prototype=Object.create(select.prototype),component.prototype.name=select,component.prototype.ajax=function(e){kwark.ajax(e).then(function(e){e!==this.state&&(this.state=e,this.notify())}.bind(this))},component.prototype.notify=function(){this.controller(this.state)},kwark.component=component;