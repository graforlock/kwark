function select(t){return this instanceof select?void(t&&(t.indexOf(".")!==-1?this.node=document.getElementsByClassName(t.split(".").join("")):t.indexOf("#")!==-1?this.node=document.getElementById(t.split("#").join("")):this.node=document.getElementsByTagName(t))):new select(t)}function effects(t){return this instanceof effects?void select.call(this,t):new effects(t)}function ajax(t){function e(t){s=t,r=t.readyState,i=t.status,o&&n(o)}function n(t){if(r<4)return void(o=t);200===i&&t.resolved(c.responseText),String(i).match(/^([4-5][0-5][0-9])$/g)&&t.rejected({statusText:c.statusText,statusCode:i})}if(!(this instanceof ajax))return new ajax(t);var o,i,s,r=0;this.then=function(t,e){n({resolved:t,rejected:e})};var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.onreadystatechange=function(){e(c)},c.open("GET",t,!0),c.send()}function component(t,e){select.call(this,t),this._controller=e,this.controller=function(t){var e;this._controller.bind(this),e=this._controller(t),e&&this.render(e)}}kwark=kwark||{},kwark.compose=function(){var t=[].slice.call(arguments).reverse();return function(e){return t.reduce(function(t,e){return e(t)},e)}},kwark.pSiblings=function(t){for(var e=[],n=t;n=n.previousElementSibling;)e.push(n);return e},kwark.nSiblings=function(t){for(var e=[],n=t;n=n.nextElementSibling;)e.push(n);return e};var kwark=kwark||{};kwark.events=["mousedown","mouseover","mouseup","click","resize","scroll","keypress","keyup","keydown"],select.one=function(t){return _s=new select,_s.node=document.querySelector(t),_s},select.inline=function(t){return _i=new select,_i.inlined=t,_i},select.prototype.find=function(t,e){var n=e?this.node.querySelectorAll(t):this.node.querySelector(t);return n?this.node=n:console.log("select: "+t+" is empty."),this},select.prototype.addClass=function(t){return this.node.className.indexOf(t)===-1&&(this.node.className+=(this.node.className?" ":"")+t),this},select.prototype.hasClass=function(t){return!!new RegExp(t,"g").exec(this.node.className)&&this},select.prototype.removeClass=function(t){return this.hasClass(t)&&(this.node.className=this.node.className.replace(t,"")),this},select.prototype.nodeify=function(t){var e=/^<([\w =\-'"\[\]0-9]+)>([<>\w\D ]+)<\/[a-z]+>$/g,n=e.exec(this.inlined),o=n[2],i=n[1].split(" "),s=i[0];this.node=document.createElement(s);var r=this;return i.length>1&&i.slice(1).map(function(t){var e={},n=t.split("=");return e[n[0]]=n[1],e}).forEach(function(t){var e=Object.keys(t),n=e[0];t[n]&&(value=t[n].indexOf('"')!==-1?t[n].replace(/"/g,""):t[n]),r.node[n]=value?value:""}),this.html(o),this},select.prototype.siblings=function(t){var e=kwark.pSiblings(this.node)||[],n=kwark.nSiblings(this.node)||[];return this.node=t?[].filter.call(e.concat(n),t):e.concat(n),this},select.prototype.eq=function(t){return this.node[t]},select.prototype.first=function(){return this.node[0]},select.prototype.last=function(){return this.node[this.node.length-1]},select.prototype.children=function(t){return t?(this.node=[].slice.call(this.node.children).filter(t),this):this.node=this.node.children},select.prototype.append=function(t){return t=t||document.body,t.appendChild(this.node),this},select.prototype.prepend=function(t){var t=t||document.body;return t.children?t.insertBefore(this.node,t.children[0]):t.appendChild(this.node),this},select.prototype.isntNull=function(){return null!==this.node},select.prototype.event=function(t,e){e=e.bind(this);var n=this.node;this.isntNull()&&0!==n.length&&this.each(function(n){n.addEventListener(t,e)})},select.prototype.event_decorator=function(t){return function(e){e=e.bind(this);var n=this.node;this.isntNull()&&0!==n.length&&this.each(function(n){n.addEventListener(t,e)})}};for(var i=0;i<kwark.events.length;i++)select.prototype[kwark.events[i]]=select.prototype.event_decorator(kwark.events[i]);select.prototype.foreach=function(t,e){for(var n=0;n<t.length&&!e(t[n],n++););},select.prototype.type=function(t){return t?{}.toString.call(t):{}.toString.call(this.node)},select.prototype.each=function(t){({}).toString;return"[object HTMLCollection]"===this.type()||"[object NodeList]"===this.type()||"[object Array]"===this.type()?(this.foreach(this.node,t),this):(t(this.node),this)},select.prototype.html=function(t){return t?(this.each(function(e){e.innerHTML=t}),this):this.node.innerHTML},select.prototype.interval=function(t,e,n){t=t.bind(this);var o=n?setInterval:setTimeout;o(t,e)},kwark.select=function(t){return select.bind(t)}(kwark),kwark=kwark||{},effects.prototype=Object.create(select.prototype),effects.prototype.name=select,effects.prototype.frame_decorator=function(){},effects.prototype.fadeIn=function(t){t=t||1,opacity=parseFloat(this.node.style.opacity)||0;var e=this;!function n(){return opacity>=t?void(e.node.style.opacity=t):(opacity+=.01,e.node.style.opacity=opacity,window.requestAnimationFrame(n),void 0)}()},effects.prototype.fadeOut=function(t){t=t||0,opacity=parseFloat(this.node.style.opacity)||1;var e=this;!function n(){return opacity<=t?void(e.node.style.opacity=t):(opacity-=.01,e.node.style.opacity=opacity,window.requestAnimationFrame(n),void 0)}()},effects.prototype.move=function(t,e){},kwark.effects=effects,kwark=kwark||{},kwark.ajax=ajax,kwark=kwark||{},component.prototype=Object.create(select.prototype),component.prototype.name=select,component.prototype.ajax=function(t){kwark.ajax(t).then(function(t){t!==this.state&&(this.state=t,this.notify())}.bind(this))},component.prototype.notify=function(){this.controller(this.state)},kwark.component=component;